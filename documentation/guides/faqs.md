---
id: faqs
title: よくある質問 (FAQ)
sidebar_label: FAQ
---

## Aleo のアプリケーションは ZK ロールアップと同じように動作しますか？

ZK ロールアップと Aleo アプリケーションの違いは次のとおりです。

| 観点 | ZK ロールアップ | Aleo アプリケーション |
|--------|-----------|-------------------|
| 情報の可視性 | すべての**情報が公開**される | **zk**SNARK の**ゼロ知識**性を利用し、一部の入力を秘匿にできる |
| 証明の作成 | ロールアップコーディネーターが証明を生成し、ロールアップトランザクションで提出する | ユーザー自身が証明を生成し、トランザクションとともに提出する |
| バッチ処理 | 複数のトランザクションをまとめる | 1 つの**トランザクション**に複数のトランジションをまとめられる |
| zkSNARK の使い方 | **簡潔性**を活用してバッチの正当性を証明する | プライバシー機能を追加したロールアップ風の構成を利用できる |

ZK ロールアップで複数トランザクションをまとめられるのと同様に、Aleo でも 1 本の**トランザクション**に複数の**トランジション**をまとめる方法があります。

## 証明者ネットワークの仕組み、インセンティブ、コンセンサスはどのようになっていますか？

Aleo は SNARK を基盤としており、Marlin 証明アルゴリズムでプログラム証明を生成します。暗号処理と証明生成は SnarkVM が担います。Aleo のプログラム証明は、利用者自身がローカルで生成することも、専門ハードウェアを備えた第三者の証明者に委任することもできます。どちらにも性能とプライバシーのトレードオフがあります。  

![tradeoff](./images/tradeoff.png)

ローカルで証明を生成する方法は、秘密入力を他者と共有する必要がなく、最も信頼最小化された手段です。ただし性能は自分のマシン性能に依存します。  

複雑な証明が必要な場合、ユーザーは専用ハードウェアを持つ第三者に証明生成を委任できます。アウトソーシングによって性能は向上しますが、ゼロ知識証明を計算してもらうために一部データを共有する必要があるため、プライバシーは低下します。  

Aleo ネットワークでは、証明者が専用ハードウェアで証明を生成し、ネットワークを保護するパズルを解きます。各ブロックに対して証明を生成し、目標難易度を超える証明を提出した数に応じて、コインベース報酬（ブロック報酬の一部）を按分で受け取ります。報酬配分に関する補足は次のとおりです。  

> 証明の難易度は、Bitcoin Cash チームが開発した ASERT アルゴリズムを基に設定されています。証明が現在の難易度を上回った場合、そのブロックに貢献したすべての証明者でコインベース報酬を分配します。証明者が行う計算処理には、多重スカラー乗算や高速フーリエ変換などが含まれます。

## Aleo Credits はどのように機能しますか？

Aleo Credits には主に 2 つの用途があります。

1. **ネットワークの保護:** バリデータは Aleo Credits をステークしてブロック提案とネットワーク保護を行い、検証報酬として Aleo Credits を受け取ります。これは PoS ブロックチェーンで一般的な仕組みです。
2. **ゼロ知識計算の購入:** zkSNARK 証明が必要なアプリケーションは、証明生成を依頼する証明者に Aleo Credits で報酬を支払います。

## Aleo における PoSW (Proof of Succinct Work) はどのように動作しますか？

Proof of Succinct Work (PoSW) は、ゼロ知識証明 (ZKP) 生成のハードウェア高速化を促すインセンティブ設計です。中心には Coinbase パズルと呼ばれる暗号パズルがあり、証明者に対してマルチスカラー乗算や高速フーリエ変換など、zkSNARK を支える計算を実行させます。証明者はブロックを生成するわけではありませんが、各ブロックのコインベース報酬の一部を受け取ります。報酬は勝者総取りではなく、最低難易度を上回る解を提出したすべての証明者に対して按分されます。

Coinbase パズルは時間とともに少しずつ難しくなるため、証明者は常にハードウェアを更新し、証明生成手法を改良する必要があります。この難易度の進化は継続的なイノベーションを促し、最速の証明者でなくともブロックごとに相応の報酬を得られる仕組みを維持します。結果として PoSW は採掘プールのような分散型・競争的エコシステムを形成し、性能向上とコスト削減を両立させます。

こうした報酬設計により、ZKP 生成に直接寄与する有用な計算へインセンティブが結びつき、ASIC などの専用ハードウェアへの投資と広範な参加を促します。これによって分散性・検閲耐性・継続的な改善を備えた証明者ネットワークが維持され、プライバシーを第一とする Aleo の目標を支える基盤となります。

## Aleo のレコードモデルはどのように設計されており、アカウントモデルや UTXO モデルとどう違いますか？

Aleo は、レコードによる UTXO 型モデルと、マッピングによるアカウント型モデルの両方をサポートしています。レコードモデルでは、分散型台帳がグローバルステートを通じてすべてのレコードを追跡します。  

ユーザーはアドレスを持ちますが、複数の入力をまとめてアプリケーションのトランザクションを実行する代わりに、ローカルで複数のレコードに対してトランザクションを実行し、その処理が正しいことを証明付きでトランジションに含めて送信します。こうすることでネットワークが状態を更新するとき、プログラムは暗号化されたグローバルストアではなくレコードの抽象として扱われ、状態をより効率的に分割できます。  

![record model](./images/record_model.png)

レコードモデルは Bitcoin の UTXO モデルに近い構成です。大きな違いは、UTXO の中身をプロトコル側で固定せずプログラム側で自由に定義できること、そして**内容が標準で暗号化される**ことです。

## ブロックチェーン・ジレンマの観点で、Aleo が妥協した要素はありますか？

Aleo はトリレンマをすべて満たすことを目標に設計されており、コンセンサスアルゴリズムと ZK SNARK の組み合わせによってこれを実現します。  

- **アカウントプライバシー:** 分散型台帳はプログラム ID を基にグローバルステートをインデックス化します。  
- **効率的なステート更新:** レコードによる抽象化により、他者とは独立して情報を分割管理できます。更新されるのは該当プログラムのレコードのみです。  
- **並行性:** レコードと台帳により同時更新が可能であり、二重使用を防ぎながら複数のレコード更新を一度にマークルツリーへ反映できます。これにより、従来のアカウントモデルと同様の利便性を保ちながら並行処理を実現します。  

## Aleo はどのように二重支出を防ぎ、トランザクションのファイナリティや手数料にどのような影響がありますか？

Aleo はレコードによる UTXO モデルとマッピングによるアカウントモデルの両方を備えており、二重支出の防止方法も異なります。

**UTXO モデルの場合:**  
各レコードはコミットメントと対応するシリアルナンバーを持ちます。レコードを使用するときは、コミットメントツリーに含まれていることを示す公開の包含証明を作成し、シリアルナンバーで再利用されていないか確認します。同じレコードを再度使おうとすると検証が失敗します。  

コミットメントは、提供された情報が正しいことを保証する暗号的手法で、敏感なデータを保護しつつ検証と信頼を可能にします。Aleo でスマートコントラクトを実装する際も、条件を検証しつつ基礎データを非公開に保つために欠かせません。  

トランザクションを生成するときは、新しいレコードに対するコミットメントを作成すると同時に、消費するレコードの一意なシリアルナンバーを計算します。コミットメントはトランジションとトランザクションの両方で証明生成に利用されます。  

**アカウントモデルの場合:**  
マッピング上のグローバルなアカウント残高が更新されます。送金が行われると、送信者の残高が減算され、受信者の残高が加算されます（Ethereum などと同様）。情報はグローバルに共有されるため、保有していない額を送金することはできません。マッピングを更新するトランザクションでも、署名ではなく状態ルートに基づく証明が必要です。もし他のトランザクションによってマッピングが更新され状態ルートが変わると、証明が失敗します。

## Aleo instructions の目的と機能は何ですか？

Aleo instructions は Aleo プログラムの中間表現です。すべての Leo プログラムは Aleo instructions にコンパイルされ、さらにバイトコードへ変換されます。Aleo instructions は AVM（Aleo Virtual Machine）が実行できるオペコードへ変換されます。  

ゼロ知識証明を生成するには算術回路が必要です。EVM エコシステムの開発者は Circom や ZoKrates を利用して回路を書き、証明鍵・検証鍵を作成してから証明を生成します。Aleo instructions は、これらの回路を記述するための手段です。  

例えば 2 つの `u32` を足し合わせる Leo プログラムは次のようになります。  

![leo example](./images/leo_example.png)

このプログラムを Aleo instructions で表すと（アセンブリに近い記法になります）次の通りです。  

![ai example](./images/ai_example.png)

## Leo はなぜ作られ、Solidity のようなスマートコントラクト言語と何が違いますか？

ZK 証明を生成するには算術回路が必要であり、EVM エコシステムの開発者は Circom や ZoKrates を利用して回路を記述し、その後証明鍵・検証鍵を生成して証明を作成します。しかし回路を手作業で書くのは難易度が高い作業です。  

Leo はこの工程を抽象化し、開発者が `.leo` 拡張子の高級言語でロジックを書くだけで、`.aleo` の回路へコンパイルできるようにします。

## Aleo のオフチェーン計算は ZK Coprocessor などとどう違い、証明生成を委託するとどんなプライバシー上の影響がありますか？

概念的にはとても似ています。Aleo の各トランジションには追加の `finalize` ブロックを付けられます。トランジションブロックのロジックは ZK 証明で検証され、`finalize` ブロックのロジックはネットワーク上のノードが再実行してマッピングに保存された状態を更新します。  

この意味で、トランジション内部のロジックは ZK コプロセッサーへ送る計算に相当し、ロジックの規模に関わらず一定のトランザクションコストで済みます。一方、`finalize` ブロック内のロジックは Ethereum など他のパブリックチェーンにおけるオンチェーン実行に相当します。  

現在の Aleo では、証明生成をリモートサーバーに委任することもできます。これにより証明生成は高速になりますが、信頼したサーバーにトランザクション内容が知られてしまいます。プライバシーより利便性を重視するユースケースでは有効ですが、プライバシーが最優先のアプリケーションではユーザーが自前で証明を生成する選択肢も残されています。  

秘匿されたまま証明生成を委任できる仕組みが完成すれば理想的ですが、現時点ではまだ実現していません。アウトソーシングの最新状況については[こちら](https://www.youtube.com/watch?v=bulEa85cptc)をご覧ください。

## Aleo の設計は、Bitcoin や Ethereum と比べてどのような特徴がありますか？

![aleo advantage](./images/aleo_advantage.png)

上図（The Aleo Advantage）が質問への答えを端的に示しています。  

- Bitcoin は公開型のお金であり、プログラム可能ではなく、すべてのトランザクションが公開されます。  
- Ethereum はプログラム可能性を導入しましたが、依然としてプライバシーを提供しません。  
- Zcash など一部プロジェクトはプライバシーを提供しますが、プログラム性は限定的でした。  
- Aleo はプライバシーとプログラム性の双方を提供します。  

## 講演や動画はどこで視聴できますか？

* Coinbase BUIDL - [**Learning LEO | Coding Private Application with ZK Cryptography**](https://youtu.be/LJXjtthDl6I)
* DEVCON - [**Aleo Developer Workshop: Leo Coding & Examples**](https://youtu.be/ABPCr2TwrgE)
* DEVCON - [**What are ZK Proofs Good For? Applications to Anonymous Identity, Sybil Prevention and Moderation**](https://youtu.be/d2n0Al0P2Jc)
* DEVCON - [**Efficient Private Delegation of zkSNARK Provers**](https://youtu.be/mFzwp8gGn-E)
* ICC - [**Web 3.0 for developers in TLV Howard Wu Aleo**](https://youtu.be/-FrrylHITvg)
* ZK8 - [**Demystifying Zero-Knowledge Programming – Howard Wu - Aleo**](https://youtu.be/e-1mPNEINRI)
* ETHCC - [**The Hitchhiker's Guide to ZK: An Aleo Developer Workshop**](https://youtu.be/fjfj5kFcQe4)
* CoinGecko - [**Importance of Zero-knowledge Proofs w/ Alex Pruden**](https://youtu.be/NvYddvVBjXY)
* Thinking Crypto - [**Alex Pruden Interview - Aleo's Privacy Solutions - Zero Knowledge Proofs - a16z - Bitcoin & Crypto**](https://youtu.be/1y4jvyy8Nsk)
* The Interop - [**Zero-Knowledge Smart Contracts with Alex Pruden of Aleo**](https://youtu.be/6BwefrwgN3w)
* Axelar - [**Tech Talks with Aleo**](https://youtu.be/P7G2DKWZbVM)

## Aleo の公式アカウントは？

[//]: # (disabling markdown checks for twitter links)

<!-- markdown-link-check-disable -->

👾 | Discord ~ **https://discord.gg/aleo**

🐦 | X (Twitter) ~ @AleoHQ ~ **https://twitter.com/AleoHQ**

🤝 | Community X (Twitter) ~ @aleocommunity ~ **https://twitter.com/aleocommunity**

<!-- markdown-link-check-enable -->

🐙 | GitHub ~ **https://github.com/AleoNet**

✍️ | Community Blog ~ **https://medium.com/@aleohq**

## 他に参考になるリソースはありますか？

🏎️ | Aleo と Leo のコード・資料の厳選リスト ~ **https://github.com/howardwu/awesome-aleo**

📜 | Aleo でアプリケーションを構築するためのスターターガイド ~ **https://github.com/AleoNet/workshop**
