---
id: inclusion_proof
title: 包含証明
sidebar_label: 包含証明
---

包含証明は、具体的な要素を明かすことなく検証者を通過できる特別な合言葉やパスワードのようなものです。Aleo において包含証明は、利用者のプライバシーを損なうことなくトランザクションを検証するデジタル領収書のように機能します。

包含証明は Merkle 木というデータ構造の一部であり、暗号システムにおいてあるデータが集合に含まれていることを効率よく証明するために使われます。この文脈での包含証明とは、集合全体を公開することなく、特定の要素が集合に含まれていると証明する手続きです。

SnarkVM では、`inclusion_proving_key()` 関数が包含回路の証明鍵を返し、`inclusion_verifying_key()` 関数が包含回路の検証鍵を返します。名前のとおり、包含証明鍵は特定の要素が集合に含まれていることを証明するために使われ、包含検証鍵はその証明が正しいかを検証するために使われます。

Aleo で関数を実行する際、ユーザーはデプロイとほぼ同じ手順でシンセサイザーを利用します。そのため、ある関数呼び出しが 𝑛 個のネストした呼び出しを発生させる場合、ユーザーは 𝑛+1 個のトランジション証明を生成します。シンセサイザーは、入力や回路内の各レジスタに対して乱数ではなく実際の値を用いて実行されます。

これらの証明に加えて、ユーザーは 𝑛+1 個の「包含証明」も生成します。包含証明は、トランジションや関数呼び出しで入力として使用されるレコードが、実際に存在していることを証明するために使われます。レコードがブロックチェーンに含まれた過去のブロック内に存在するのか、あるいは以前のトランジション出力のいずれかに存在するのかを示します。

包含証明は、レコードに関する情報を漏らすことなくレコードを一意に識別するシリアルナンバー（ZCash 系のシステムではヌリファイアとも呼ばれます）を公開出力します。この仕組みにより、レコードが二重に使用されることはありません。（加えて、ネットワークは同一トランザクション内で同じシリアルナンバーが二度出現しないよう強制します。）

**注記:** これらさまざまな証明は、最終的に Varuna のバッチ処理機能を用いて 1 つの証明へ集約されます。
